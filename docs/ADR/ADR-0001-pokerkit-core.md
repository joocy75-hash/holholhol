# ADR-0001: PokerKit을 게임 엔진 코어로 채택

> Architecture Decision Record

---

## 상태

**승인됨** (2026-01-11)

---

## 컨텍스트

텍사스 홀덤 웹서비스 구축을 위해 게임 로직 엔진이 필요하다. 선택지:

1. **자체 구현**: 모든 게임 로직 직접 개발
2. **PokerKit 채택**: 오픈소스 포커 라이브러리 활용
3. **기타 라이브러리**: 다른 포커 라이브러리 검토

---

## 결정

**PokerKit을 게임 엔진 코어로 채택한다.**

---

## 근거

### 1. 라이선스

- MIT License로 배포
- 상용 사용 제한 없음
- 소스 코드 공개 의무 없음

### 2. 코드 품질

PokerKit 공식 문서에서 명시한 품질 지표:

| 항목 | 내용 |
|------|------|
| 정적 타입 체크 | 전체 코드베이스 타입 힌트 적용 |
| 테스트 커버리지 | 99% 코드 커버리지 주장 |
| 문서화 | doctest 기반 문서화 |
| 유지보수 | 활발한 GitHub 활동 |

### 3. 기능 완성도

- 텍사스 홀덤 완전 지원
- 핸드 평가 (Hand Evaluation) 내장
- 팟 계산 및 사이드 팟 처리
- 다양한 베팅 구조 지원 (No-Limit, Pot-Limit, Fixed-Limit)
- 게임 변형 확장 가능 (오마하, 스터드 등)

### 4. 상용 사례 언급

PokerKit 문서에서 "online poker casino implementation" 용례를 직접 언급하여 상용 서비스 구축에 적합함을 시사한다.

### 5. 자체 구현 대비 이점

| 항목 | 자체 구현 | PokerKit |
|------|----------|----------|
| 개발 기간 | 수개월 | 즉시 사용 |
| 버그 리스크 | 높음 | 검증됨 |
| 유지보수 | 전담 필요 | 커뮤니티 지원 |
| 규칙 정확성 | 검증 필요 | 검증됨 |

---

## 결과

### 긍정적

- 개발 시간 대폭 단축
- 검증된 게임 로직 사용
- 핸드 평가 정확성 보장
- 향후 게임 변형 확장 용이

### 부정적/리스크

- 외부 의존성 추가
- PokerKit API 변경 시 대응 필요
- 래퍼 레이어 개발 필요

### 완화 방안

- 래퍼 레이어로 직접 의존성 격리
- 버전 고정 및 업그레이드 정책 수립
- 핵심 로직 단위 테스트 작성

---

## 대안 검토

### 자체 구현

- 장점: 완전한 제어권
- 단점: 개발 기간, 버그 리스크, 규칙 검증 비용
- 결론: 비용 대비 효과 낮음

### 기타 라이브러리

- 검토 결과: PokerKit이 가장 완성도 높고 문서화 우수
- Python 생태계에서 대안 부족

---

## 참고 자료

- [PokerKit GitHub](https://github.com/uoftcprg/pokerkit)
- [PokerKit Documentation](https://pokerkit.readthedocs.io/)
- MIT License 전문

---

## 관련 문서

- [10-engine-architecture.md](../10-engine-architecture.md)
- [11-engine-state-model.md](../11-engine-state-model.md)
