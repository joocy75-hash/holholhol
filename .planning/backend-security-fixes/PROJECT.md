# λ°±μ—”λ“ λ³΄μ• λ° μ½”λ“ ν’μ§ κ°μ„  ν”„λ΅μ νΈ

> **ν”„λ΅μ νΈ μ‹μ‘μΌ**: 2026-01-23
> **λ‹΄λ‹Ήμ**: Claude Code (λ©€ν‹° κ³„μ • μ‘μ—…)
> **λ©ν‘ μ™„λ£μΌ**: 2026-01-25 (μμƒ)

---

## π“‹ ν”„λ΅μ νΈ κ°μ”

### λ°°κ²½
2026-01-23 λ°±μ—”λ“ μ½”λ“ λ¦¬λ·° κ²°κ³Ό, μµκ·Ό μ»¤λ°‹(fa233e8 - ννΈλ„ μ‹μ¤ν… κµ¬ν„)μ—μ„ λ‹¤μκ³Ό κ°™μ€ λ³΄μ• λ° μ½”λ“ ν’μ§ μ΄μκ°€ λ°κ²¬λ¨:

- **Critical μ΄μ 2κ±΄**: κ΄€λ¦¬μ κ¶ν• μ²΄ν¬ λ„λ½, λΌμ°νΈ κ²½λ΅ λ¶μΌμΉ
- **Important μ΄μ 5κ±΄**: SQL Injection μ„ν—, νΈλμ­μ… λ΅¤λ°± λ―Έν΅, μ½”λ“ μ¤νƒ€μΌ, ν†µκ³„ λ΅μ§ λ¶€μ •ν™• λ“±

### λ©ν‘
1. λ¨λ“  Critical λ³΄μ• μ΄μ μ¦‰μ‹ μμ • (Phase 1)
2. Important λ³΄μ• μ΄μ μμ • (Phase 2)
3. μ½”λ“ ν’μ§ κ°μ„  λ° λ¬Έμ„ν™” (Phase 3)
4. κ° λ‹¨κ³„λ³„ μλ™ν™”λ ν…μ¤νΈλ΅ κ²€μ¦
5. μ‘μ—… μ¤‘λ‹¨ μ‹ μ¦‰μ‹ μ¬κ° κ°€λ¥ν• μ²΄ν¬ν¬μΈνΈ μ‹μ¤ν… κµ¬μ¶•

### μ„±κ³µ κΈ°μ¤€
- [ ] λ¨λ“  Critical μ΄μ ν•΄κ²° (μ‹ λΆ°λ„ 90% μ΄μƒ)
- [ ] λ¨λ“  Important μ΄μ ν•΄κ²° (μ‹ λΆ°λ„ 80% μ΄μƒ)
- [ ] κΈ°μ΅΄ ν…μ¤νΈ 100% ν†µκ³Ό μ μ§€
- [ ] μƒλ΅μ΄ λ³΄μ• ν…μ¤νΈ μ¶”κ°€ λ° ν†µκ³Ό
- [ ] μ‘μ—… μ¤‘λ‹¨/μ¬κ° ν”„λ΅μ„Έμ¤ κ²€μ¦ μ™„λ£

---

## π― μ£Όμ” μ΄μ λ©λ΅

### Critical (μ¦‰μ‹ μμ • ν•„μ”)

| ID | μ΄μ | νμΌ | μ‹ λΆ°λ„ | Phase |
|----|------|------|--------|-------|
| C-1 | κ΄€λ¦¬μ κ¶ν• μ²΄ν¬ λ„λ½ | `backend/app/api/admin_partner.py` | 95% | P1 |
| C-2 | λΌμ°νΈ κ²½λ΅ λ¶μΌμΉ | `backend/app/main.py` | 92% | P1 |

### Important (μ°μ„  μμ •)

| ID | μ΄μ | νμΌ | μ‹ λΆ°λ„ | Phase |
|----|------|------|--------|-------|
| I-1 | SQL Injection μ„ν— (LIKE ν¨ν„΄) | `backend/app/services/partner.py` | 85% | P2 |
| I-2 | νΈλμ­μ… λ΅¤λ°± λ―Έν΅ | `backend/app/services/partner_settlement.py` | 88% | P2 |
| I-3 | ν•¨μ λ‚΄λ¶€ import | `backend/app/services/partner_settlement.py` | 82% | P2 |
| I-4 | Integer νƒ€μ… λ¶μΌμΉ | `backend/app/models/partner.py` | 81% | P2 |
| I-5 | ν†µκ³„ μ§‘κ³„ λ΅μ§ λ¶€μ •ν™• | `backend/app/api/partner.py` | 80% | P3 |

---

## π“ Phase κµ¬μ΅°

### Phase 1: Critical λ³΄μ• μ΄μ μμ • (μ°μ„ μμ„ μµμƒ)
**λ©ν‘**: μ΄μ ν™κ²½ λ°°ν¬ λΈ”λ΅μ»¤ μ κ±°
- Step 1.1: κ΄€λ¦¬μ κ¶ν• μμ΅΄μ„± μ¶”κ°€
- Step 1.2: admin_partner.py μ—”λ“ν¬μΈνΈ κ¶ν• μ μ©
- Step 1.3: λΌμ°νΈ κ²½λ΅ ν‘μ¤€ν™”
- Step 1.4: κ¶ν• μ²΄ν¬ ν…μ¤νΈ μ‘μ„±
- Step 1.5: κ²€μ¦ λ° μ²΄ν¬ν¬μΈνΈ

### Phase 2: Important λ³΄μ• μ΄μ μμ • (μ°μ„ μμ„ λ†’μ)
**λ©ν‘**: λ³΄μ• μ·¨μ•½μ  μ κ±° λ° μ•μ •μ„± ν–¥μƒ
- Step 2.1: LIKE ν¨ν„΄ μ΄μ¤μΌ€μ΄ν”„ μ ν‹Έ μ‘μ„±
- Step 2.2: partner.py κ²€μƒ‰ ν•„ν„° μμ •
- Step 2.3: νΈλμ­μ… λ΅¤λ°± λ΅μ§ κ°μ„ 
- Step 2.4: import μ„μΉ μ •λ¦¬
- Step 2.5: Integer β†’ BigInteger λ§μ΄κ·Έλ μ΄μ…
- Step 2.6: κ²€μ¦ λ° μ²΄ν¬ν¬μΈνΈ

### Phase 3: μ½”λ“ ν’μ§ κ°μ„  (μ°μ„ μμ„ λ³΄ν†µ)
**λ©ν‘**: μ¥κΈ° μ μ§€λ³΄μμ„± ν–¥μƒ
- Step 3.1: ν†µκ³„ μ§‘κ³„ λ΅μ§ κ°μ„  μ„¤κ³„
- Step 3.2: λ³„λ„ ν†µκ³„ ν…μ΄λΈ” λ§μ΄κ·Έλ μ΄μ… μ‘μ„±
- Step 3.3: ν†µκ³„ μ„λΉ„μ¤ λ¦¬ν©ν† λ§
- Step 3.4: μ„±λ¥ ν…μ¤νΈ λ° κ²€μ¦
- Step 3.5: λ¬Έμ„ν™” λ° μ²΄ν¬ν¬μΈνΈ

---

## π”„ λ©€ν‹° κ³„μ • μ‘μ—… μ „λµ

### κ³„μ • μ „ν™ μ‹λ‚λ¦¬μ¤
1. **ν† ν° μ†μ§„ μ„λ°• (90% μ‚¬μ© μ‹)**
   - ν„μ¬ Step μ‘μ—… λ‚΄μ© WORK_STATE.mdμ— κΈ°λ΅
   - `/holdem-checkpoint` λ…λ ΉμΌλ΅ μ²΄ν¬ν¬μΈνΈ μ €μ¥
   - λ‹¤μ κ³„μ •μΌλ΅ μ „ν™
   - `/holdem-resume` λ…λ ΉμΌλ΅ μ‘μ—… μ¬κ°

2. **μ‘μ—… μ¤‘λ‹¨ (μ—λ¬/μ¥μ•  λ°μƒ μ‹)**
   - μ—λ¬ λ‚΄μ© λ° λ§μ§€λ§‰ μ„±κ³µ μ§€μ  κΈ°λ΅
   - `/holdem-handoff` λ…λ ΉμΌλ΅ μΈκ³„ λ¬Έμ„ μƒμ„±
   - λ‹¤μ μ‘μ—…μμ—κ² μ»¨ν…μ¤νΈ μ „λ‹¬

3. **Step μ™„λ£ μ‹**
   - Step μ²΄ν¬λ¦¬μ¤νΈ μ—…λ°μ΄νΈ
   - ν…μ¤νΈ κ²°κ³Ό κΈ°λ΅
   - λ‹¤μ Step μ§„ν–‰ λλ” μ²΄ν¬ν¬μΈνΈ

### μ²΄ν¬ν¬μΈνΈ κ·μΉ™
- β… **ν•„μ μ²΄ν¬ν¬μΈνΈ**: κ° Phase μ™„λ£ μ‹
- π”„ **κ¶μ¥ μ²΄ν¬ν¬μΈνΈ**: κ° Step μ™„λ£ μ‹
- β οΈ **κΈ΄κΈ‰ μ²΄ν¬ν¬μΈνΈ**: ν† ν° 90% μ†μ§„ μ‹

---

## π› οΈ κΈ°μ  μ¤νƒ λ° λ„κµ¬

### κ²€μ¦ λ„κµ¬
- **pytest**: λ‹¨μ„ ν…μ¤νΈ λ° ν†µν•© ν…μ¤νΈ
- **hypothesis**: μ†μ„± κΈ°λ° ν…μ¤νΈ (λ³΄μ• ν…μ¤νΈ)
- **code-reviewer agent**: μλ™ μ½”λ“ λ¦¬λ·°
- **silent-failure-hunter agent**: μ—λ¬ ν•Έλ“¤λ§ κ²€μ¦

### μ‘μ—… λ„κµ¬
- **GSD μ‹μ¤ν…**: μ‘μ—… μƒνƒ μ¶”μ 
- **holdem-checkpoint**: μ²΄ν¬ν¬μΈνΈ μ €μ¥
- **holdem-resume**: μ‘μ—… μ¬κ°
- **holdem-status**: ν„μ¬ μƒνƒ ν™•μΈ

---

## π“ μ°Έκ³  λ¬Έμ„

- **μ½”λ“ λ¦¬λ·° κ²°κ³Ό**: [agent aa3d592 μ¶λ ¥ μ°Έμ΅°]
- **CLAUDE.md**: ν”„λ΅μ νΈ κ°€μ΄λ“λΌμΈ
- **WORK_STATE.md**: μ‹¤μ‹κ°„ μ‘μ—… μƒνƒ μ¶”μ 
- **κ° Phase PLAN.md**: λ‹¨κ³„λ³„ μƒμ„Έ μ‹¤ν–‰ κ³„ν

---

## π¨ μ„ν— μ”μ† λ° λ€μ‘

| μ„ν— | λ°μƒ ν™•λ¥  | μν–¥λ„ | λ€μ‘ λ°©μ• |
|------|----------|--------|----------|
| ν† ν° μ†μ§„μΌλ΅ μ‘μ—… μ¤‘λ‹¨ | λ†’μ | μ¤‘κ°„ | μ²΄ν¬ν¬μΈνΈ μ‹μ¤ν…, Skills μλ™ν™” |
| κΈ°μ΅΄ κΈ°λ¥ νκ·€ | μ¤‘κ°„ | λ†’μ | κ° Stepλ§λ‹¤ μ „μ²΄ ν…μ¤νΈ μ‹¤ν–‰ |
| λ§μ΄κ·Έλ μ΄μ… μ‹¤ν¨ | λ‚®μ | λ†’μ | λ΅¤λ°± μ¤ν¬λ¦½νΈ μ¤€λΉ„, λ°±μ—… |
| κ¶ν• λ΅μ§ μ¤λ™μ‘ | μ¤‘κ°„ | λ†’μ | κ¶ν•λ³„ ν…μ¤νΈ μΌ€μ΄μ¤ μ‘μ„± |

---

## β… μ™„λ£ κΈ°μ¤€

### Phase 1 μ™„λ£
- [ ] λ¨λ“  admin_partner μ—”λ“ν¬μΈνΈμ— κ¶ν• μ²΄ν¬ μ μ©
- [ ] κ¶ν• μ—†μ΄ νΈμ¶ μ‹ 403 μ—λ¬ λ°ν™ ν…μ¤νΈ ν†µκ³Ό
- [ ] λΌμ°νΈ κ²½λ΅κ°€ `/api/v1/admin/partners`λ΅ ν‘μ¤€ν™”
- [ ] κΈ°μ΅΄ 352κ° ν…μ¤νΈ 100% ν†µκ³Ό

### Phase 2 μ™„λ£
- [ ] LIKE ν¨ν„΄ νΉμλ¬Έμ μ΄μ¤μΌ€μ΄ν”„ λ™μ‘ ν™•μΈ
- [ ] νΈλμ­μ… μ‹¤ν¨ μ‹ μλ™ λ΅¤λ°± ν…μ¤νΈ ν†µκ³Ό
- [ ] import λ¬Έμ΄ λ¨λ‘ νμΌ μƒλ‹¨μ— μ„μΉ
- [ ] total_referrals μ»¬λΌμ΄ BigIntegerλ΅ λ³€κ²½

### Phase 3 μ™„λ£
- [ ] ν†µκ³„ ν…μ΄λΈ” λ§μ΄κ·Έλ μ΄μ… μ„±κ³µ
- [ ] μΌμΌ/μ›”κ°„ ν†µκ³„ μ •ν™•λ„ κ²€μ¦
- [ ] μ„±λ¥ ν…μ¤νΈ ν†µκ³Ό (1000+ ννΈλ„ λ°μ΄ν„°)
- [ ] λ¬Έμ„ν™” μ™„λ£

---

**λ‹¤μ λ‹¨κ³„**: ROADMAP.md μ‘μ„±
