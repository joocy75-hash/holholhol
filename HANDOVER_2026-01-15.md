# ì‘ì—… ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ - 2026-01-15

## ğŸ“‹ ì‘ì—… ê°œìš”

**ì‘ì—…ëª…**: Framer Motion ë§ˆì´ê·¸ë ˆì´ì…˜ + 5ëŒ€ ëª°ì…ê° ê¸°ëŠ¥ êµ¬í˜„  
**ì‘ì—… ê¸°ê°„**: 2026-01-14 ~ 2026-01-15  
**ì‘ì—… ìƒíƒœ**: âœ… ì™„ë£Œ  
**ê´€ë ¨ Spec**: `.kiro/specs/framer-motion-migration/`

---

## ğŸ¯ êµ¬í˜„ëœ ê¸°ëŠ¥ ìš”ì•½

í™€ë¤ ê²Œì„ì˜ í”„ë¡ íŠ¸ì—”ë“œ ì• ë‹ˆë©”ì´ì…˜ ì‹œìŠ¤í…œì„ Framer Motion ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜í•˜ê³ , 5ê°€ì§€ í•µì‹¬ ëª°ì…ê° ê¸°ëŠ¥ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### 5ëŒ€ ëª°ì…ê° ê¸°ëŠ¥

| # | ê¸°ëŠ¥ëª… | ì„¤ëª… | ì»´í¬ë„ŒíŠ¸ |
|---|--------|------|----------|
| 1 | ì¹´ë“œ ìª¼ê¸° ì—°ì¶œ (Card Squeeze) | 3D ì¹´ë“œ íœ˜ì–´ì§, ê·¸ë¦¼ì, ê´‘íƒ íš¨ê³¼ | `CardSqueeze.tsx` |
| 2 | ë² íŒ… ì¹© ì´ë™ + ìˆ«ì ìƒìŠ¹ | ê³¡ì„  ê²½ë¡œ ì¹© ì´ë™, ê¸ˆì•¡ íŒì—… | `ChipAnimation.tsx`, `BettingChips.tsx` |
| 3 | íŒŸ ìˆ˜ê±° ì• ë‹ˆë©”ì´ì…˜ | ìŠ¹ì ë°©í–¥ ì¹© ì´ë™, í„ìŠ¤ íš¨ê³¼ | `PotCollection.tsx` |
| 4 | ìŠ¹ì í•˜ì´ë¼ì´íŠ¸ | í‘ë°± ì²˜ë¦¬, ê¸ˆìƒ‰ ê¸€ë¡œìš° íš¨ê³¼ | `ShowdownHighlight.tsx` |
| 5 | Show/Muck ì„ íƒ | í´ë“œ ì‹œ ì¹´ë“œ ê³µê°œ ì˜µì…˜, íƒ€ì´ë¨¸ | `FoldOptions.tsx` |

---

## ğŸ“¦ ì„¤ì¹˜ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬

### ìƒˆë¡œ ì¶”ê°€ëœ ì˜ì¡´ì„±

```json
// frontend/package.json
{
  "dependencies": {
    "framer-motion": "^12.26.2"
  }
}
```

### ì„¤ì¹˜ ëª…ë ¹ì–´
```bash
cd frontend
npm install framer-motion
```

### ë²ˆë“¤ ì‚¬ì´ì¦ˆ ì˜í–¥
- framer-motion ì¶”ê°€ë¡œ ì¸í•œ ë²ˆë“¤ í¬ê¸° ì¦ê°€: ì•½ +40KB (gzipped)
- ëª©í‘œì¹˜ +50KB ì´í•˜ ë‹¬ì„±

---

## ğŸ“ ìƒì„±/ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡

### ìƒˆë¡œ ìƒì„±ëœ íŒŒì¼

#### 1. ì• ë‹ˆë©”ì´ì…˜ ìœ í‹¸ë¦¬í‹° (frontend/src/lib/animations/)

| íŒŒì¼ | ì„¤ëª… | ì£¼ìš” export |
|------|------|-------------|
| `variants.ts` | ì• ë‹ˆë©”ì´ì…˜ variants ì •ì˜ | fadeIn, scaleIn, slideUp, buttonHover, buttonTap, staggeredContainer, cardFlip, winnerGlow, loserDim, pulse ë“± |
| `transitions.ts` | íŠ¸ëœì§€ì…˜ í”„ë¦¬ì…‹ | springTransition, snapBackSpring, flipSpring, smoothTransition, chipStagger, DURATIONS, CARD_CONSTANTS ë“± |
| `paths.ts` | ë² ì§€ì–´ ê³¡ì„  ê²½ë¡œ ìœ í‹¸ë¦¬í‹° | calculateCurvedPath, calculateArcPath, createChipToTablePath, createPotToWinnerPath, generateScatteredPositions |
| `index.ts` | í†µí•© export | ëª¨ë“  ìœ í‹¸ë¦¬í‹° re-export |

#### 2. ìƒˆ ì»´í¬ë„ŒíŠ¸ (frontend/src/components/table/)

| íŒŒì¼ | ì„¤ëª… | Props |
|------|------|-------|
| `ChipAnimation.tsx` | ì¹© ì´ë™ ì• ë‹ˆë©”ì´ì…˜ | amount, startPosition, endPosition, onComplete, showFloatingNumber |
| `PotCollection.tsx` | íŒŸ ìˆ˜ê±° ì• ë‹ˆë©”ì´ì…˜ | potAmount, winnerPositions, isActive, onComplete, isSplitPot |
| `FoldOptions.tsx` | í´ë“œ ì‹œ Show/Muck ì„ íƒ UI | cards, onShow, onMuck, onShowOne, timeoutSeconds, isVisible |

### ìˆ˜ì •ëœ íŒŒì¼

| íŒŒì¼ | ë³€ê²½ ë‚´ìš© |
|------|----------|
| `frontend/src/components/table/pmang/CardSqueeze.tsx` | Framer Motionìœ¼ë¡œ ë¦¬íŒ©í† ë§, 3D íš¨ê³¼ ì¶”ê°€ |
| `frontend/src/components/table/BettingChips.tsx` | ChipAnimation í†µí•© |
| `frontend/src/components/table/pmang/ShowdownHighlight.tsx` | í‘ë°± ì²˜ë¦¬, ê¸€ë¡œìš° íš¨ê³¼ ì¶”ê°€ |
| `frontend/src/components/table/ActionButtons.tsx` | motion.button ì ìš©, staggered ë“±ì¥ |
| `frontend/src/components/table/BuyInModal.tsx` | AnimatePresence, slideUp, fadeIn ì ìš© |


---

## ğŸ”§ ì£¼ìš” êµ¬í˜„ ìƒì„¸

### 1. ì• ë‹ˆë©”ì´ì…˜ ìœ í‹¸ë¦¬í‹° ì‚¬ìš©ë²•

```typescript
// ê¸°ë³¸ import
import { 
  fadeIn, 
  springTransition, 
  calculateCurvedPath,
  buttonHover,
  buttonTap 
} from '@/lib/animations';

// ë²„íŠ¼ì— í˜¸ë²„/íƒ­ ì• ë‹ˆë©”ì´ì…˜ ì ìš©
<motion.button
  whileHover={buttonHover}
  whileTap={buttonTap}
>
  í´ë¦­
</motion.button>

// ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜
<motion.div
  variants={fadeIn}
  initial="initial"
  animate="animate"
  exit="exit"
>
  ì½˜í…ì¸ 
</motion.div>

// ê³¡ì„  ê²½ë¡œ ê³„ì‚°
const path = calculateCurvedPath(
  { x: 0, y: 0 },      // ì‹œì‘ì 
  { x: 100, y: 100 },  // ëì 
  { curvature: 0.3 }   // ê³¡ë¥ 
);
```

### 2. CardSqueeze 3D íš¨ê³¼

```typescript
// ë“œë˜ê·¸ ê±°ë¦¬ì— ë”°ë¥¸ 3D ë³€í™˜
const rotateX = dragDistance * 0.5;  // ìµœëŒ€ 45ë„
const shadowBlur = 10 + dragDistance * 0.3;
const glossOpacity = dragDistance * 0.01;

// ì„ê³„ê°’ ê¸°ë°˜ ë™ì‘
if (dragDistance > REVEAL_THRESHOLD) {
  // "íœ™" í”Œë¦½ ì• ë‹ˆë©”ì´ì…˜ (flipSpring)
} else {
  // "ì°°ì‹¹" ìŠ¤ëƒ…ë°± ì• ë‹ˆë©”ì´ì…˜ (snapBackSpring)
}
```

### 3. ì¹© ì• ë‹ˆë©”ì´ì…˜ ì‹œí€€ìŠ¤

```
ë² íŒ… ì‹œ ì¹© ì´ë™ ìˆœì„œ:
1. í”Œë ˆì´ì–´ ìœ„ì¹˜ì—ì„œ ì¹© ìƒì„± (staggered, 0.05ì´ˆ ê°„ê²©)
2. ë² ì§€ì–´ ê³¡ì„  ê²½ë¡œë¡œ ì¤‘ì•™ íŒŸ ì´ë™
3. ì²« ì¹© ë„ì°© ì‹œ ê¸ˆì•¡ íŒì—… (+10,000)
4. íŒì—… ìœ„ë¡œ ë– ì˜¤ë¥´ë©° fade out
5. onAnimationComplete ì½œë°± (íš¨ê³¼ìŒ íŠ¸ë¦¬ê±°ìš©)
```

### 4. ìŠ¹ì í•˜ì´ë¼ì´íŠ¸ íš¨ê³¼

```css
/* ë¹„ìŠ¹ì ì˜ì—­ */
filter: grayscale(100%);
opacity: 0.6;

/* ìŠ¹ì ì˜ì—­ */
filter: brightness(1.2);
box-shadow: 0 0 20px rgba(255, 215, 0, 0.8);  /* ê¸ˆìƒ‰ ê¸€ë¡œìš° */

/* 3ì´ˆ í›„ ë³µì› */
transition: all 1s ease-out;
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ìƒíƒœ

### ë¹Œë“œ ê²€ì¦
```bash
cd frontend
npm run build  # âœ… ì„±ê³µ
```

### ë¦°íŠ¸ ê²€ì‚¬
```bash
npm run lint  # âš ï¸ ê¸°ì¡´ ê²½ê³  ìˆìŒ (Framer Motion ê´€ë ¨ ì—†ìŒ)
```

### E2E í…ŒìŠ¤íŠ¸
- ë°±ì—”ë“œ API ì—°ê²° ë¬¸ì œë¡œ ì¼ë¶€ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨
- Framer Motion ë§ˆì´ê·¸ë ˆì´ì…˜ ìì²´ëŠ” ì •ìƒ ë™ì‘

---

## ğŸ“ ì•Œë ¤ì§„ ì´ìŠˆ ë° ì£¼ì˜ì‚¬í•­

### 1. ESLint ê²½ê³ 
```
Using `<img>` could result in slower LCP
```
- `BuyInModal.tsx`ì˜ ê³¨ë“œ ì•„ì´ì½˜ì—ì„œ ë°œìƒ
- Next.js Image ì»´í¬ë„ŒíŠ¸ë¡œ êµì²´ ê¶Œì¥ (ì„ íƒì‚¬í•­)

### 2. ìŠ¤í ë§ ê²½ê³ 
- `grayscale`, `buyin`, `allin` ë“± ë„ë©”ì¸ ìš©ì–´ ê²½ê³ 
- ê¸°ëŠ¥ì— ì˜í–¥ ì—†ìŒ

### 3. FoldOptions ë°±ì—”ë“œ ì—°ë™
- WebSocketìœ¼ë¡œ ì¹´ë“œ ê³µê°œ ì •ë³´ ì „ì†¡ ê¸°ëŠ¥ êµ¬í˜„ë¨
- ë°±ì—”ë“œ í•¸ë“¤ëŸ¬ ì—°ë™ í•„ìš” (í˜„ì¬ í”„ë¡ íŠ¸ì—”ë“œë§Œ êµ¬í˜„)

---

## ğŸš€ ë‹¤ìŒ ì‘ì—… ê¶Œì¥ì‚¬í•­

### ìš°ì„ ìˆœìœ„ ë†’ìŒ
1. **FoldOptions ë°±ì—”ë“œ ì—°ë™**: WebSocket í•¸ë“¤ëŸ¬ì—ì„œ `show_cards` ì´ë²¤íŠ¸ ì²˜ë¦¬
2. **E2E í…ŒìŠ¤íŠ¸ ìˆ˜ì •**: ë°±ì—”ë“œ API ì—°ê²° ë¬¸ì œ í•´ê²° í›„ í…ŒìŠ¤íŠ¸ ì¬ì‹¤í–‰

### ìš°ì„ ìˆœìœ„ ì¤‘ê°„
3. **íš¨ê³¼ìŒ í†µí•©**: `onAnimationComplete` ì½œë°±ì— ì‚¬ìš´ë“œ ì¬ìƒ ì—°ê²°
4. **ì„±ëŠ¥ ìµœì í™”**: ì• ë‹ˆë©”ì´ì…˜ 60fps ìœ ì§€ í™•ì¸ (ì €ì‚¬ì–‘ ê¸°ê¸° í…ŒìŠ¤íŠ¸)

### ìš°ì„ ìˆœìœ„ ë‚®ìŒ
5. **Next.js Image ë§ˆì´ê·¸ë ˆì´ì…˜**: `<img>` â†’ `<Image />` êµì²´
6. **ì• ë‹ˆë©”ì´ì…˜ ë¯¸ì„¸ ì¡°ì •**: ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ íƒ€ì´ë° ì¡°ì ˆ

---

## ğŸ“‚ ê´€ë ¨ ë¬¸ì„œ

- **ìš”êµ¬ì‚¬í•­**: `.kiro/specs/framer-motion-migration/requirements.md`
- **ì„¤ê³„ ë¬¸ì„œ**: `.kiro/specs/framer-motion-migration/design.md`
- **ì‘ì—… ëª©ë¡**: `.kiro/specs/framer-motion-migration/tasks.md`

---

## ğŸ”„ ì„œë²„ ì‹¤í–‰ ë°©ë²•

```bash
# í”„ë¡ íŠ¸ì—”ë“œ (í¬íŠ¸ 3000)
cd frontend
npm run dev

# ë°±ì—”ë“œ (í¬íŠ¸ 8000)
./dev.sh backend

# ë˜ëŠ” ì „ì²´ ì‹¤í–‰
./dev.sh
```

---

## ğŸ“Š íŒŒì¼ êµ¬ì¡° ìš”ì•½

```
frontend/src/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ animations/           # ğŸ†• ìƒˆë¡œ ìƒì„±
â”‚       â”œâ”€â”€ index.ts          # í†µí•© export
â”‚       â”œâ”€â”€ variants.ts       # ì• ë‹ˆë©”ì´ì…˜ variants
â”‚       â”œâ”€â”€ transitions.ts    # íŠ¸ëœì§€ì…˜ í”„ë¦¬ì…‹
â”‚       â””â”€â”€ paths.ts          # ë² ì§€ì–´ ê³¡ì„  ìœ í‹¸ë¦¬í‹°
â”‚
â””â”€â”€ components/table/
    â”œâ”€â”€ ChipAnimation.tsx     # ğŸ†• ì¹© ì´ë™ ì• ë‹ˆë©”ì´ì…˜
    â”œâ”€â”€ PotCollection.tsx     # ğŸ†• íŒŸ ìˆ˜ê±° ì• ë‹ˆë©”ì´ì…˜
    â”œâ”€â”€ FoldOptions.tsx       # ğŸ†• Show/Muck ì„ íƒ
    â”œâ”€â”€ BettingChips.tsx      # âœï¸ ìˆ˜ì •ë¨
    â”œâ”€â”€ ActionButtons.tsx     # âœï¸ ìˆ˜ì •ë¨
    â”œâ”€â”€ BuyInModal.tsx        # âœï¸ ìˆ˜ì •ë¨
    â””â”€â”€ pmang/
        â”œâ”€â”€ CardSqueeze.tsx       # âœï¸ ìˆ˜ì •ë¨
        â””â”€â”€ ShowdownHighlight.tsx # âœï¸ ìˆ˜ì •ë¨
```

---

## ğŸ”‘ í•µì‹¬ ì½”ë“œ ì°¸ì¡°

### variants.ts ì£¼ìš” ë‚´ìš©
```typescript
// ë²„íŠ¼ ì¸í„°ë™ì…˜
export const buttonHover = { scale: 1.05 };
export const buttonTap = { scale: 0.95 };

// ë“±ì¥/í‡´ì¥ ì• ë‹ˆë©”ì´ì…˜
export const fadeIn = {
  initial: { opacity: 0 },
  animate: { opacity: 1 },
  exit: { opacity: 0 }
};

export const slideUp = {
  initial: { y: 100, opacity: 0 },
  animate: { y: 0, opacity: 1 },
  exit: { y: 100, opacity: 0 }
};

// Staggered ì»¨í…Œì´ë„ˆ
export const staggeredContainer = {
  animate: { transition: { staggerChildren: 0.05 } }
};
```

### transitions.ts ì£¼ìš” ë‚´ìš©
```typescript
// ìŠ¤í”„ë§ íŠ¸ëœì§€ì…˜
export const springTransition = {
  type: 'spring',
  stiffness: 300,
  damping: 25
};

// ì°°ì‹¹ ìŠ¤ëƒ…ë°± (ë¹ ë¥¸ ë³µê·€)
export const snapBackSpring = {
  type: 'spring',
  stiffness: 500,
  damping: 30
};

// íœ™ í”Œë¦½ (í™”ë ¤í•œ ë’¤ì§‘ê¸°)
export const flipSpring = {
  type: 'spring',
  stiffness: 200,
  damping: 20
};
```

### paths.ts ì£¼ìš” ë‚´ìš©
```typescript
// ë² ì§€ì–´ ê³¡ì„  ê²½ë¡œ ê³„ì‚°
export function calculateCurvedPath(
  start: Point,
  end: Point,
  options: CurvedPathOptions = {}
): Point[] {
  const { curvature = 0.3, steps = 20 } = options;
  // ì œì–´ì  ê³„ì‚° ë° ë² ì§€ì–´ ê³¡ì„  ìƒì„±
  // ...
}

// ì¹© â†’ í…Œì´ë¸” ì¤‘ì•™ ê²½ë¡œ
export function createChipToTablePath(
  playerPosition: Point,
  tableCenter: Point
): Point[] {
  return calculateCurvedPath(playerPosition, tableCenter, { curvature: 0.4 });
}
```

---

**ì‘ì„±ì**: Kiro AI  
**ì‘ì„±ì¼**: 2026-01-15  
**ê²€í†  í•„ìš”**: ë°±ì—”ë“œ ê°œë°œì (FoldOptions WebSocket ì—°ë™)
