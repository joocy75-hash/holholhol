# 홀덤 프로젝트 체크포인트 저장

현재 작업 상태를 체크포인트로 저장합니다. 토큰 소진 전 또는 작업 중단 시 사용하세요.

## 사용법
```
/holdem-checkpoint [메모]
```

예시:
```
/holdem-checkpoint "P0-1 Step 3 진행 중, broadcast.py 완료, action.py 수정 중"
```

---

## 자동 실행 단계

### Step 1: 현재 상태 수집
```
다음 정보를 수집하세요:
1. 현재 작업 중인 Phase/Step
2. 수정 중인 파일 목록과 상태
3. 마지막 실행한 명령어
4. 테스트 결과 (있다면)
5. Git 상태
```

### Step 2: 체크포인트 파일 생성
```
.planning/checkpoints/YYYYMMDD_HHMMSS_[phase].md 파일을 생성하세요.
```

### Step 3: WORK_STATE.md 업데이트
```
"진행 중인 작업" 섹션을 상세히 업데이트하세요.
```

---

## 체크포인트 파일 형식

```markdown
# 체크포인트: [Phase-Step]

> 생성 시간: [ISO 8601 형식]
> 작업자: [계정 ID]
> 메모: [사용자 입력 메모]

## 작업 상태

### 현재 Phase
- Phase: [P0-1/P0-2/P1-1/...]
- Step: [1-6]
- 진행률: [%]

### 파일 상태

#### 완료된 파일
- [파일경로]: [상태 설명]

#### 수정 중인 파일
```
파일: [경로]
상태: [진행률%]
마지막 수정 위치: [라인 번호 또는 함수명]
```

#### 수정 예정 파일
- [파일경로]: [예정 작업]

### 코드 스니펫 (수정 중인 부분)
```python
# 파일: [경로]
# 라인: [시작-끝]
[현재까지 작성된 코드]
```

### 테스트 상태
- 마지막 테스트: [통과/실패/미실행]
- 실패 시 에러: [에러 메시지]

### Git 상태
```
[git status 출력]
```

### 다음 작업
1. [다음에 해야 할 구체적인 작업 1]
2. [다음에 해야 할 구체적인 작업 2]

## 복구 지침

### 이 체크포인트에서 재개하려면:
1. `/holdem-resume` 실행
2. 위 "수정 중인 파일" 섹션 참조
3. "다음 작업" 목록부터 진행

### 주의사항
[특별히 주의해야 할 사항]
```

---

## 자동 체크포인트 트리거

다음 상황에서 자동으로 체크포인트를 생성하세요:

1. **각 Step 완료 시**
   - 체크포인트 생성
   - WORK_STATE.md 체크박스 업데이트

2. **토큰 경고 감지 시**
   - 즉시 현재 상태 저장
   - "긴급 체크포인트" 표시

3. **에러 발생 시**
   - 에러 상태와 함께 저장
   - 디버깅 정보 포함

4. **사용자 요청 시**
   - `/holdem-checkpoint` 명령

---

## 체크포인트 관리

### 보관 정책
- 최근 10개 체크포인트만 유지
- 오래된 체크포인트 자동 삭제 (또는 수동)

### 정리 명령
```bash
# 오래된 체크포인트 삭제 (최근 10개 유지)
ls -t .planning/checkpoints/*.md | tail -n +11 | xargs rm -f
```
